(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{1986:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/product/list",function(){return r(6019)}])},6019:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $e}});var n=r(5893),o=r(7294),i=r(9008),a=r.n(i),c=r(9820),s=r(8273),l=r(9520),u=r(6886),d=r(1458),p=r(5861),f=r(3321),m=r(7017),h=r(3780);var x=function(e){var t=e.createNewProduct,r=(0,o.useState)({}),i=r[0],a=r[1];return(0,o.useEffect)((function(){var e=(0,h.PR)();a(e)}),[]),(0,n.jsxs)(u.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,n.jsxs)(u.ZP,{item:!0,children:[(0,n.jsx)(p.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Produtos"}),(0,n.jsxs)(p.Z,{variant:"subtitle2",children:[null===i||void 0===i?void 0:i.name,", segue abaixo a lista de produtos cadastrados."]})]}),(0,n.jsx)(u.ZP,{item:!0,children:(0,n.jsx)(f.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,n.jsx)(m.Z,{fontSize:"small"}),onClick:function(){return t()},children:"Novo Produto"})})]})},v=r(4051),b=r.n(v),j=r(6242),g=r(2912),y=r(5697),Z=r.n(y),P=r(2734),S=r(7357),w=r(8445),k=r(4054),O=r(3841),C=r(315),T=r(8972),_=r(7720),E=r(2882),D=r(7906),W=r(3184),I=r(3816),R=r(3252),A=r(9368),B=r(295),N=r(2789),F=r(3946),q=r(519),z=r(100),H=r(422),L=r(2521),M=r(4347),V=r(8462),U=r(891),$=r(9334),X=r(3046),G=r(7957);var J=function(e){var t=e.goToEdit,r=e.goToDelete,i=(0,o.useState)(!1),a=i[0],c=i[1],s=(0,o.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(S.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(p.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es gerais:"}),(0,n.jsx)(f.Z,{color:"error",sx:{ml:1},startIcon:(0,n.jsx)(L.Z,{}),variant:"contained",onClick:function(){return r()},children:"Deletar"}),(0,n.jsx)(f.Z,{color:"primary",sx:{ml:1},startIcon:(0,n.jsx)(G.Z,{}),variant:"contained",onClick:function(){return t()},children:"Editar"})]}),(0,n.jsx)(F.Z,{color:"primary",onClick:function(){c(!0)},ref:s,sx:{ml:2,p:1},children:(0,n.jsx)(X.Z,{})})]}),(0,n.jsx)(M.Z,{keepMounted:!0,anchorEl:s.current,open:a,onClose:function(){c(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,n.jsxs)(V.Z,{sx:{p:1},component:"nav",children:[(0,n.jsx)(U.ZP,{onClick:function(){return r()},children:(0,n.jsx)($.Z,{primary:"Deletar Selecionados"})}),(0,n.jsx)(U.ZP,{onClick:function(){return t()},children:(0,n.jsx)($.Z,{primary:"Editar Selecionados"})})]})})]})},K=r(6310),Q=r(8262),Y=r(2293),ee=r(155),te=r(594),re=r(4776),ne=r(135),oe=r(480),ie=r(2175),ae=r(7333),ce=r(8467);function se(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,o)}function le(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){se(i,n,o,a,c,"next",e)}function c(e){se(i,n,o,a,c,"throw",e)}a(void 0)}))}}var ue=function(){var e=le(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.i.get("/api/product");case 3:if(200!=(t=e.sent).status){e.next=10;break}if(!t.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:t.data.data});case 9:return e.abrupt("return",{success:!1,data:t.data.data,message:t.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=le(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.i.post("/api/product",t);case 3:if(200!=(r=e.sent).status&&201!=r.status){e.next=10;break}if(!r.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:r.data.data});case 9:return e.abrupt("return",{success:!1,data:r.data.data,message:r.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=le(b().mark((function e(t,r){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.i.put("/api/product/update/".concat(t),r);case 3:if(200!=(n=e.sent).status&&201!=n.status){e.next=10;break}if(!n.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:n.data.product});case 9:return e.abrupt("return",{success:!1,message:n.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=le(b().mark((function e(t){var r,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.i.delete("/api/product/delete/".concat(t));case 3:if(200!=(r=e.sent).status&&201!=r.status){e.next=11;break}if(!(n=r.data).success){e.next=10;break}return e.abrupt("return",{success:n.success,message:n.data.message});case 10:return e.abrupt("return",{success:!1,message:"N\xe3o foi poss\xedvel deletar o produto."});case 11:return e.abrupt("return",{success:!1,message:"Error: "});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),me=r(377),he=r(8987);function xe(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,o)}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ve(e,t,r[t])}))}return e}function je(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ge=o.forwardRef((function(e,t){return(0,n.jsx)(re.Z,be({direction:"up",ref:t},e))})),ye=o.forwardRef((function(e,t){var r=e.onChange,o=je(e,["onChange"]);return(0,n.jsx)(ae.h3,be({},o,{getInputRef:t,onValueChange:function(t){r({target:{name:e.name,value:t.value}})},thousandSeparator:".",valueIsNumericString:!0,decimalScale:2,decimalSeparator:",",fixedDecimalScale:!0,prefix:"R$"}))}));function Ze(e){var t=(0,me.Ds)().enqueueSnackbar,r=e.open,i=e.onClose,a=e.onSuccess,c=e.onError,s=e.product,f=function(){i()},m=K.Ry().shape({title:K.Z_().required("O t\xedtulo do produto \xe9 um campo obrigat\xf3rio."),subtitle:K.Z_(),description:K.Z_(),link:K.Z_().required("O link do produto \xe9 um campo obrigat\xf3rio"),price:K.Z_().required("O pre\xe7o do produto \xe9 um campo obrigat\xf3rio"),buttonText:K.Z_().required("O texto do bot\xe3o \xe9 um campo obrigat\xf3rio."),promotion:K.O7(),promotion_price:K.Z_(),active:K.O7()}),h=(0,ie.TA)({initialValues:{title:"",subtitle:"",description:"",link:"",price:"",promotion:!1,promotion_price:"",buttonText:"",active:!1},validationSchema:m,onSubmit:function(e,t){P(e,t.setSubmitting)}}),x=h.errors,v=h.touched,j=h.isSubmitting,g=h.handleSubmit,y=h.getFieldProps,Z=h.setFieldValue,P=function(){var e,r=(e=b().mark((function e(r,n){var o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,pe("".concat(s.id),r);case 3:(o=e.sent).success?(f(),a(),t("Produto atualizado com sucesso!",{variant:"success",autoHideDuration:6e3})):(c(),t(o.message,{variant:"error",autoHideDuration:6e3})),n(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xe(i,n,o,a,c,"next",e)}function c(e){xe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();return o.useEffect((function(){var e;null!=s&&void 0!=s&&(Z("title",(e=s).title),Z("subtitle",e.subtitle?e.subtitle:""),Z("link",e.link),Z("description",e.description),Z("price",e.price),Z("promotion",1==e.promotion),Z("promotion_price",e.promotion_price),Z("buttonText",e.buttonText),Z("active",1==e.active))}),[s]),(0,n.jsxs)(Q.Z,{fullScreen:!0,open:r,onClose:f,TransitionComponent:ge,children:[(0,n.jsx)(Y.Z,{sx:{position:"relative"},children:(0,n.jsx)(l.Z,{sx:{py:1},maxWidth:"xl",children:(0,n.jsxs)(ee.Z,{children:[(0,n.jsx)(F.Z,{edge:"start",color:"inherit",onClick:f,"aria-label":"close",children:(0,n.jsx)(te.Z,{})}),(0,n.jsxs)(p.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Produto: ",null===s||void 0===s?void 0:s.title]}),(0,n.jsx)(he.Z,{variant:"outlined",color:"inherit",onClick:function(){return g()},loading:j,children:"Salvar"})]})})}),(0,n.jsxs)(l.Z,{maxWidth:"xl",sx:{py:3},children:[j&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(S.Z,{sx:{my:2},children:(0,n.jsx)(d.Z,{color:"secondary"})})}),(0,n.jsx)(ie.Hy,{value:h,children:(0,n.jsx)(ie.l0,{onSubmit:g,children:(0,n.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(u.ZP,{item:!0,sm:12,md:6,lg:6,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"title",label:"T\xedtulo"},y("title"),{error:Boolean(v.title&&x.title),helperText:v.title&&x.title}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:6,lg:6,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"subtitle",label:"Subt\xedtulo"},y("subtitle"),{error:Boolean(v.subtitle&&x.subtitle),helperText:v.subtitle&&x.subtitle}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"link",label:"Link"},y("link"),{error:Boolean(v.link&&x.link),helperText:v.link&&x.link}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:4},y("description"),{error:Boolean(v.description&&x.description),helperText:v.description&&x.description}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:3,lg:3,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",autoComplete:"price",label:"Pre\xe7o",InputProps:{inputComponent:ye}},y("price"),{error:Boolean(v.price&&x.price),helperText:v.price&&x.price}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,n.jsx)(oe.Z,{control:(0,n.jsx)(A.Z,be({checked:h.values.promotion},y("promotion"))),label:"Em Promo\xe7\xe3o"})}),h.values.promotion&&(0,n.jsx)(u.ZP,{item:!0,sm:12,md:3,lg:3,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"price",InputProps:{inputComponent:ye},label:"Pre\xe7o da Promo\xe7\xe3o"},y("promotion_price"),{error:Boolean(v.promotion_price&&x.promotion_price),helperText:v.promotion_price&&x.promotion_price}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:4,lg:4,children:(0,n.jsx)(ne.Z,be({fullWidth:!0,variant:"outlined",autoComplete:"text",label:"Texto do Bot\xe3o"},y("buttonText"),{error:Boolean(v.buttonText&&x.buttonText),helperText:v.buttonText&&x.buttonText}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,n.jsx)(oe.Z,{control:(0,n.jsx)(A.Z,be({checked:h.values.active},y("active"))),label:"Produto Ativo?"})})]})})})]})]})}var Pe=r(9581),Se=r(1425);function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ke(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,o)}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Te=o.forwardRef((function(e,t){return(0,n.jsx)(re.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Oe(e,t,r[t])}))}return e}({direction:"up",ref:t},e))}));function _e(e){var t=(0,me.Ds)().enqueueSnackbar,r=e.open,i=e.handleClose,a=e.handleSuccess,c=e.handleStartSubmit,s=e.productsToDelete,u=Ce(o.useState(!1),2),m=u[0],h=u[1],x=function(){var e,r=(e=b().mark((function e(r){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),c(!0),n={success:!1,message:"N\xe3o foi poss\xedvel deletar os produtos!",data:{}},1!=r.length){e.next=10;break}return e.next=6,fe("".concat(r[0]));case 6:(n=e.sent).success?(i(),a(),t(n.message,{variant:"success",autoHideDuration:8e3})):t("N\xe3o foi poss\xedvel deletar os produtos!",{variant:"error",autoHideDuration:8e3}),e.next=11;break;case 10:t("S\xf3 \xe9 poss\xedvel deletar 1 produto por vez. Selecione apenas 1.",{variant:"error",autoHideDuration:8e3});case 11:h(!1);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ke(i,n,o,a,c,"next",e)}function c(e){ke(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),v=s.map((function(e){return(0,n.jsxs)("li",{children:[e.title," - ",parseFloat(e.price).toLocaleString("pt-BR",{minimumFractionDigits:2,style:"currency",currency:"BRL"})]},e.id)}));return(0,n.jsxs)(Q.Z,{fullWidth:!0,maxWidth:"md",open:r,onClose:function(){},TransitionComponent:Te,children:[(0,n.jsx)(Y.Z,{color:"inherit",position:"sticky",children:(0,n.jsx)(l.Z,{maxWidth:"xl",sx:{p:1},children:(0,n.jsxs)(ee.Z,{children:[(0,n.jsx)(F.Z,{edge:"start",color:"inherit",onClick:function(){i()},"aria-label":"close",children:(0,n.jsx)(te.Z,{})}),(0,n.jsx)(p.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Deletando Produto"})]})})}),(0,n.jsxs)(Pe.Z,{children:[r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{children:"Voc\xea tem certeza que deseja deletar a lista de produtos abaixo?"}),(0,n.jsx)("ul",{children:v})]}),m&&(0,n.jsx)(l.Z,{children:(0,n.jsx)(d.Z,{sx:{height:2},color:"inherit"})})]}),(0,n.jsxs)(Se.Z,{children:[(0,n.jsx)(f.Z,{color:"error",variant:"contained",onClick:function(){return i()},children:"Cancelar"}),(0,n.jsx)(he.Z,{color:"primary",variant:"contained",loading:m,onClick:function(){var e=s.map((function(e){return e.id}));x(e)},children:"Confirmar"})]})]})}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ie=function(e){var t={active:{text:"Ativo",color:"success"},inactive:{text:"Inativo",color:"warning"}}[e],r=t.text,o=t.color;return(0,n.jsx)(z.Z,{color:o,children:r})},Re=function(e){var t=e.products,r=e.reloadProducts,i=(0,me.Ds)().enqueueSnackbar,a=(0,o.useState)([]),c=a[0],s=a[1],l=(0,o.useState)(!1),u=l[0],d=l[1],f=(0,o.useState)(!1),m=f[0],h=f[1],x=(0,o.useState)(),v=x[0],b=x[1],y=c.length>0,Z=(0,o.useState)(0),z=Z[0],M=Z[1],V=(0,o.useState)(5),U=V[0],$=V[1],X=(0,o.useState)({status:null}),G=X[0],K=X[1],Q=function(e,t){return e.filter((function(e){var r=!0;return t.status&&1==e.active!=={active:{value:!0},inactive:{value:!1}}[t.status].value&&(r=!1),r}))}(t,G),Y=function(e,t,r){return e.slice(t*r,t*r+r)}(Q,z,U),ee=c.length>0&&c.length<t.length,te=c.length===t.length,re=(0,P.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.Z,{children:[y&&(0,n.jsx)(S.Z,{flex:1,p:2,children:(0,n.jsx)(J,{goToDelete:function(){1==c.length?h(!0):i("S\xf3 \xe9 poss\xedvel deletar 1 produto selecionado por vez, selecione apenas 1 e tente novamente...",{variant:"warning",autoHideDuration:1e4})},goToEdit:function(){1==c.length?(b(t.filter((function(e){return e.id==c[0]}))[0]),d(!0)):i("S\xf3 \xe9 poss\xedvel editar 1 produto selecionado por vez, selecione apenas 1 e tente novamente...",{variant:"warning",autoHideDuration:1e4})}})}),!y&&(0,n.jsx)(w.Z,{action:(0,n.jsx)(S.Z,{width:150,children:(0,n.jsxs)(k.Z,{fullWidth:!0,variant:"outlined",children:[(0,n.jsx)(O.Z,{children:"Status"}),(0,n.jsx)(C.Z,{value:G.status||"all",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),K((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){De(e,t,r[t])}))}return e}({},e,{status:t})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"Todos"},{id:"active",name:"Ativo"},{id:"inactive",name:"Inativo"}].map((function(e){return(0,n.jsx)(T.Z,{value:e.id,children:e.name},e.id)}))})]})}),title:"Lista de Produtos"}),(0,n.jsx)(_.Z,{}),(0,n.jsx)(E.Z,{children:(0,n.jsxs)(D.Z,{children:[(0,n.jsx)(W.Z,{children:(0,n.jsxs)(I.Z,{children:[(0,n.jsx)(R.Z,{padding:"checkbox",children:(0,n.jsx)(A.Z,{color:"primary",checked:te,indeterminate:ee,onChange:function(e){s(e.target.checked?t.map((function(e){return e.id})):[])}})}),(0,n.jsx)(R.Z,{children:"ID"}),(0,n.jsx)(R.Z,{children:"T\xedtulo"}),(0,n.jsx)(R.Z,{children:"Valor"}),(0,n.jsx)(R.Z,{align:"center",children:"Status"}),(0,n.jsx)(R.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,n.jsx)(B.Z,{children:Y.map((function(e){var t=c.includes(e.id);return(0,n.jsxs)(I.Z,{hover:!0,selected:t,children:[(0,n.jsx)(R.Z,{padding:"checkbox",children:(0,n.jsx)(A.Z,{color:"primary",checked:t,onChange:function(t){return r=e.id,void(c.includes(r)?s((function(e){return e.filter((function(e){return e!==r}))})):s((function(e){return We(e).concat([r])})));var r},value:t})}),(0,n.jsx)(R.Z,{children:(0,n.jsx)(p.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.id})}),(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(p.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.title}),(0,n.jsx)(p.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:(0,g.Z)(new Date(e.created_at),"dd/MM/yyyy - HH:mm:ss")})]}),(0,n.jsx)(R.Z,{children:(0,n.jsx)(p.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:parseFloat(null===e||void 0===e?void 0:e.price).toLocaleString("pt-BR",{minimumFractionDigits:2,style:"currency",currency:"BRL"})})}),(0,n.jsx)(R.Z,{align:"center",children:(0,n.jsx)(p.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:Ie(1==e.active?"active":"inactive")})}),(0,n.jsxs)(R.Z,{align:"right",children:[(0,n.jsx)(N.Z,{title:"Editar Produto",arrow:!0,children:(0,n.jsx)(F.Z,{sx:{"&:hover":{background:re.colors.primary.lighter},color:re.palette.primary.main},color:"inherit",size:"small",onClick:function(){b(e),d(!0)},children:(0,n.jsx)(H.Z,{fontSize:"small"})})}),(0,n.jsx)(N.Z,{title:"Deletar Produto",arrow:!0,children:(0,n.jsx)(F.Z,{sx:{"&:hover":{background:re.colors.error.lighter},color:re.palette.error.main},color:"inherit",size:"small",onClick:function(){s([e.id]),h(!0)},children:(0,n.jsx)(L.Z,{fontSize:"small"})})})]})]},e.id)}))})]})}),(0,n.jsx)(S.Z,{p:2,children:(0,n.jsx)(q.Z,{component:"div",count:Q.length,onPageChange:function(e,t){M(t)},onRowsPerPageChange:function(e){$(parseInt(e.target.value))},page:z,labelDisplayedRows:function(e){var t=e.from,r=e.to,n=e.count;return"".concat(t,"\u2013").concat(r," de ").concat(-1!==n?n:"more than ".concat(r))},labelRowsPerPage:"Produtos por p\xe1gina",rowsPerPage:U,rowsPerPageOptions:[5,10,25,30]})})]}),(0,n.jsx)(Ze,{open:u,onClose:function(){d(!1)},onSuccess:function(){r()},onError:function(){},product:v}),(0,n.jsx)(_e,{open:m,handleClose:function(){h(!1)},handleSuccess:function(){h(!1),M(0),s([]),K({status:null}),r()},productsToDelete:t.filter((function(e){return c.includes(e.id)})),handleStartSubmit:function(){}})]})};Re.propTypes={products:Z().array.isRequired},Re.defaultProps={products:[]};var Ae=Re;function Be(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,o)}var Ne=function(){var e=(0,o.useState)([]),t=e[0],r=e[1],i=function(){var e,t=(e=b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:(t=e.sent).success&&r(t.data);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Be(i,n,o,a,c,"next",e)}function c(e){Be(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){i()}),[]),(0,n.jsx)(j.Z,{children:(0,n.jsx)(Ae,{reloadProducts:function(){return i()},products:t})})};function Fe(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,o)}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qe(e,t,r[t])}))}return e}function He(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Le=o.forwardRef((function(e,t){return(0,n.jsx)(re.Z,ze({direction:"up",ref:t},e))})),Me=o.forwardRef((function(e,t){var r=e.onChange,o=He(e,["onChange"]);return(0,n.jsx)(ae.h3,ze({},o,{getInputRef:t,onValueChange:function(t){r({target:{name:e.name,value:t.value}})},thousandSeparator:".",valueIsNumericString:!0,decimalScale:2,decimalSeparator:",",fixedDecimalScale:!0,prefix:"R$"}))}));function Ve(e){var t=(0,me.Ds)().enqueueSnackbar,r=e.open,o=e.onClose,i=e.onSuccess,a=e.onError,c=e.onInitSubmit,s=function(){o()},f=K.Ry().shape({title:K.Z_().required("O t\xedtulo do produto \xe9 um campo obrigat\xf3rio."),subtitle:K.Z_(),description:K.Z_(),link:K.Z_().required("O link do produto \xe9 um campo obrigat\xf3rio"),price:K.Z_().required("O pre\xe7o do produto \xe9 um campo obrigat\xf3rio"),buttonText:K.Z_().required("O texto do bot\xe3o \xe9 um campo obrigat\xf3rio."),promotion:K.O7(),promotion_price:K.Z_(),active:K.O7()}),m=(0,ie.TA)({initialValues:{title:"",subtitle:"",description:"",link:"",price:"",promotion:!1,promotion_price:"",buttonText:"",active:!1},validationSchema:f,onSubmit:function(e,t){y(e,t.setSubmitting)}}),h=m.errors,x=m.touched,v=m.isSubmitting,j=m.handleSubmit,g=m.getFieldProps,y=function(){var e,r=(e=b().mark((function e(r,n){var o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),c(),e.next=4,de(r);case 4:(o=e.sent).success?(t("Produto adicionado com sucesso!",{variant:"success",autoHideDuration:8e3}),i(),s(),m.resetForm()):(t(o.message,{variant:"error",autoHideDuration:1e4}),a()),n(!1);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fe(i,n,o,a,c,"next",e)}function c(e){Fe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();return(0,n.jsxs)(Q.Z,{fullScreen:!0,open:r,onClose:s,TransitionComponent:Le,children:[(0,n.jsx)(Y.Z,{sx:{position:"relative"},children:(0,n.jsx)(l.Z,{sx:{py:1},maxWidth:"xl",children:(0,n.jsxs)(ee.Z,{children:[(0,n.jsx)(F.Z,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:(0,n.jsx)(te.Z,{})}),(0,n.jsx)(p.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Criando Novo Produto"}),(0,n.jsx)(he.Z,{loading:v,autoFocus:!0,variant:"outlined",color:"inherit",onClick:function(){return j()},children:"Criar"})]})})}),(0,n.jsxs)(l.Z,{maxWidth:"xl",sx:{py:3},children:[v&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(S.Z,{sx:{my:2},children:(0,n.jsx)(d.Z,{color:"secondary"})})}),(0,n.jsx)(ie.Hy,{value:m,children:(0,n.jsx)(ie.l0,{onSubmit:j,children:(0,n.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(u.ZP,{item:!0,sm:12,md:6,lg:6,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"title",label:"T\xedtulo"},g("title"),{error:Boolean(x.title&&h.title),helperText:x.title&&h.title}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:6,lg:6,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"subtitle",label:"Subt\xedtulo"},g("subtitle"),{error:Boolean(x.subtitle&&h.subtitle),helperText:x.subtitle&&h.subtitle}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"link",label:"Link"},g("link"),{error:Boolean(x.link&&h.link),helperText:x.link&&h.link}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:4},g("description"),{error:Boolean(x.description&&h.description),helperText:x.description&&h.description}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:3,lg:3,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",autoComplete:"price",label:"Pre\xe7o",InputProps:{inputComponent:Me}},g("price"),{error:Boolean(x.price&&h.price),helperText:x.price&&h.price}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,n.jsx)(oe.Z,{control:(0,n.jsx)(A.Z,ze({},g("promotion"))),label:"Em Promo\xe7\xe3o"})}),m.values.promotion&&(0,n.jsx)(u.ZP,{item:!0,sm:12,md:3,lg:3,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"price",InputProps:{inputComponent:Me},label:"Pre\xe7o da Promo\xe7\xe3o"},g("promotion_price"),{error:Boolean(x.promotion_price&&h.promotion_price),helperText:x.promotion_price&&h.promotion_price}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:4,lg:4,children:(0,n.jsx)(ne.Z,ze({fullWidth:!0,variant:"outlined",autoComplete:"text",label:"Texto do Bot\xe3o"},g("buttonText"),{error:Boolean(x.buttonText&&h.buttonText),helperText:x.buttonText&&h.buttonText}))}),(0,n.jsx)(u.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,n.jsx)(oe.Z,{control:(0,n.jsx)(A.Z,ze({},g("active"))),label:"Produto Ativo?"})})]})})})]})]})}var Ue=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1],i=(0,o.useState)(!1),c=i[0],p=i[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Produtos - Painel - Familia TC"})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(x,{createNewProduct:function(){r(!0)}})}),(0,n.jsx)(l.Z,{maxWidth:"lg",children:(0,n.jsx)(u.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:c?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(d.Z,{})})}):(0,n.jsx)(u.ZP,{item:!0,xs:12,children:(0,n.jsx)(Ne,{})})})}),(0,n.jsx)(Ve,{open:t,onClose:function(){r(!1)},onInitSubmit:function(){p(!0)},onSuccess:function(){p(!1)},onError:function(){p(!1)}})]})};Ue.getLayout=function(e){return(0,n.jsx)(c.Z,{privated:!0,redirect:"/panel/login",children:e})};var $e=Ue},100:function(e,t,r){"use strict";var n=r(5893),o=r(5697),i=r.n(o);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=(0,r(948).ZP)("span")((function(e){var t=e.theme;return"\n      background-color: ".concat(t.colors.alpha.black[5],";\n      padding: ").concat(t.spacing(.5,1),";\n      font-size: ").concat(t.typography.pxToRem(13),";\n      border-radius: ").concat(t.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(t.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(t.colors.primary.lighter,";\n          color: ").concat(t.palette.primary.main,"\n        }\n\n        &-black {\n          background-color: ").concat(t.colors.alpha.black[100],";\n          color: ").concat(t.colors.alpha.white[100],";\n        }\n        \n        &-secondary {\n          background-color: ").concat(t.colors.secondary.lighter,";\n          color: ").concat(t.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(t.colors.success.lighter,";\n          color: ").concat(t.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(t.colors.warning.lighter,";\n          color: ").concat(t.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(t.colors.error.lighter,";\n          color: ").concat(t.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(t.colors.info.lighter,";\n          color: ").concat(t.palette.info.main,"\n        }\n      }\n")})),l=function(e){e.className;var t=e.color,r=void 0===t?"secondary":t,o=e.children,i=c(e,["className","color","children"]);return(0,n.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({className:"MuiLabel-"+r},i,{children:o}))};l.propTypes={children:i().node,className:i().string,color:i().oneOf(["primary","black","secondary","error","warning","success","info"])},t.Z=l},8273:function(e,t,r){"use strict";var n=r(5893),o=r(5697),i=r.n(o),a=r(948),c=r(7357),s=r(9520),l=(0,a.ZP)(c.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")})),u=function(e){var t=e.children;return(0,n.jsx)(l,{className:"MuiPageTitle-wrapper",children:(0,n.jsx)(s.Z,{maxWidth:"lg",children:t})})};u.propTypes={children:i().node.isRequired},t.Z=u},8467:function(e,t,r){"use strict";r.d(t,{h:function(){return a},i:function(){return c}});var n=r(6154),o=r(3780),i="https://api.familiatc.com.br",a=n.Z.create({baseURL:i,headers:{"Content-Type":"application/json",Accept:"application/json"}}),c=n.Z.create({baseURL:i,headers:{Authorization:"Bearer ".concat((0,o.LP)()),"Content-Type":"application/json",Accept:"/"}})}},function(e){e.O(0,[155,39,999,121,841,58,347,853,498,154,317,830,915,834,333,250,774,888,179],(function(){return t=1986,e(e.s=t);var t}));var t=e.O();_N_E=t}]);