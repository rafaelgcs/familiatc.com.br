(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{2940:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel/faq/list",function(){return r(8146)}])},8146:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return He}});var t=r(5893),a=r(7294),o=r(9008),i=r.n(o),c=r(9820),s=r(8273),u=r(9520),l=r(6886),d=r(1458),f=r(5861),p=r(3321),h=r(7017),m=r(3780);var x=function(e){var n=e.createNewFAQ,r=(0,a.useState)({}),o=r[0],i=r[1];return(0,a.useEffect)((function(){var e=(0,m.PR)();i(e)}),[]),(0,t.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(l.ZP,{item:!0,children:[(0,t.jsx)(f.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Perguntas Frequentes"}),(0,t.jsxs)(f.Z,{variant:"subtitle2",children:[null===o||void 0===o?void 0:o.name,", segue abaixo a lista de perguntas cadastradas."]})]}),(0,t.jsx)(l.ZP,{item:!0,children:(0,t.jsx)(p.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,t.jsx)(h.Z,{fontSize:"small"}),onClick:function(){return n()},children:"Nova Pergunta"})})]})},v=r(4051),g=r.n(v),j=r(6242),b=r(5697),y=r.n(b),Z=r(2734),w=r(7357),P=r(8445),S=r(4054),k=r(3841),O=r(315),C=r(8972),q=r(7720),E=r(2882),A=r(7906),T=r(3184),D=r(3816),F=r(3252),W=r(9368),I=r(295),R=r(2789),N=r(3946),_=r(519),z=r(100),H=r(422),B=r(2521),L=r(4347),M=r(8462),Q=r(891),U=r(9334),V=r(3046),X=r(7957);var $=function(e){var n=e.goToEdit,r=e.goToDelete,o=(0,a.useState)(!1),i=o[0],c=o[1],s=(0,a.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,t.jsxs)(w.Z,{display:"flex",alignItems:"center",children:[(0,t.jsx)(f.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es gerais:"}),(0,t.jsx)(p.Z,{color:"error",sx:{ml:1},startIcon:(0,t.jsx)(B.Z,{}),variant:"contained",onClick:function(){return r()},children:"Deletar"}),(0,t.jsx)(p.Z,{color:"primary",sx:{ml:1},startIcon:(0,t.jsx)(X.Z,{}),variant:"contained",onClick:function(){return n()},children:"Editar"})]}),(0,t.jsx)(N.Z,{color:"primary",onClick:function(){c(!0)},ref:s,sx:{ml:2,p:1},children:(0,t.jsx)(V.Z,{})})]}),(0,t.jsx)(L.Z,{keepMounted:!0,anchorEl:s.current,open:i,onClose:function(){c(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,t.jsxs)(M.Z,{sx:{p:1},component:"nav",children:[(0,t.jsx)(Q.ZP,{onClick:function(){return r()},children:(0,t.jsx)(U.Z,{primary:"Deletar Selecionados"})}),(0,t.jsx)(Q.ZP,{onClick:function(){return n()},children:(0,t.jsx)(U.Z,{primary:"Editar Selecionados"})})]})})]})},G=r(377),J=r(8262),K=r(2293),Y=r(155),ee=r(594),ne=r(4776),re=r(9581),te=r(1425),ae=r(8987),oe=r(8467);function ie(e,n,r,t,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?n(s):Promise.resolve(s).then(t,a)}function ce(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){ie(o,t,a,i,c,"next",e)}function c(e){ie(o,t,a,i,c,"throw",e)}i(void 0)}))}}var se=function(){var e=ce(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.i.get("/api/faq");case 3:if(200!=(n=e.sent).status){e.next=10;break}if(!n.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:n.data.data});case 9:return e.abrupt("return",{success:!1,data:n.data.data,message:n.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=ce(g().mark((function e(n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.i.post("/api/faq",n);case 3:if(200!=(r=e.sent).status&&201!=r.status){e.next=10;break}if(!r.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:r.data.data});case 9:return e.abrupt("return",{success:!1,data:r.data.data,message:r.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),le=function(){var e=ce(g().mark((function e(n,r){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.i.put("/api/faq/update/".concat(n),r);case 3:if(200!=(t=e.sent).status&&201!=t.status){e.next=10;break}if(!t.data.success){e.next=9;break}return e.abrupt("return",{success:!0,data:t.data.product});case 9:return e.abrupt("return",{success:!1,message:t.data.error.message});case 10:return e.abrupt("return",{success:!1,message:"Error: "});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,r){return e.apply(this,arguments)}}(),de=function(){var e=ce(g().mark((function e(n){var r,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.i.delete("/api/faq/delete/".concat(n));case 3:if(200!=(r=e.sent).status&&201!=r.status){e.next=11;break}if(!(t=r.data).success){e.next=10;break}return e.abrupt("return",{success:t.success,message:t.data.message});case 10:return e.abrupt("return",{success:!1,message:"N\xe3o foi poss\xedvel deletar o produto."});case 11:return e.abrupt("return",{success:!1,message:"Error: "});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Error: "});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}();function fe(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function pe(e,n,r,t,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?n(s):Promise.resolve(s).then(t,a)}function he(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function me(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(s){c=!0,a=s}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return fe(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=a.forwardRef((function(e,n){return(0,t.jsx)(ne.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){he(e,n,r[n])}))}return e}({direction:"up",ref:n},e))}));function ve(e){var n=(0,G.Ds)().enqueueSnackbar,r=e.open,o=e.handleClose,i=e.handleSuccess,c=e.handleStartSubmit,s=e.faqsToDelete,l=me(a.useState(!1),2),h=l[0],m=l[1],x=function(){var e,r=(e=g().mark((function e(r){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),c(!0),t={success:!1,message:"N\xe3o foi poss\xedvel deletar as perguntas!",data:{}},1!=r.length){e.next=10;break}return e.next=6,de("".concat(r[0]));case 6:(t=e.sent).success?(o(),i(),n(t.message,{variant:"success",autoHideDuration:8e3})):n("N\xe3o foi poss\xedvel deletar as perguntas!",{variant:"error",autoHideDuration:8e3}),e.next=11;break;case 10:n("S\xf3 \xe9 poss\xedvel deletar 1 pergunta por vez. Selecione apenas 1.",{variant:"error",autoHideDuration:8e3});case 11:m(!1);case 12:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){pe(o,t,a,i,c,"next",e)}function c(e){pe(o,t,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),v=s.map((function(e){return(0,t.jsx)("li",{children:e.question},e.id)}));return(0,t.jsxs)(J.Z,{fullWidth:!0,maxWidth:"md",open:r,onClose:function(){},TransitionComponent:xe,children:[(0,t.jsx)(K.Z,{color:"inherit",position:"sticky",children:(0,t.jsx)(u.Z,{maxWidth:"xl",sx:{p:1},children:(0,t.jsxs)(Y.Z,{children:[(0,t.jsx)(N.Z,{edge:"start",color:"inherit",onClick:function(){o()},"aria-label":"close",children:(0,t.jsx)(ee.Z,{})}),(0,t.jsx)(f.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Deletando Pergunta Frequente"})]})})}),(0,t.jsxs)(re.Z,{children:[r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{children:"Voc\xea tem certeza que deseja deletar a lista de perguntas frequentes abaixo?"}),(0,t.jsx)("ul",{children:v})]}),h&&(0,t.jsx)(u.Z,{children:(0,t.jsx)(d.Z,{sx:{height:2},color:"inherit"})})]}),(0,t.jsxs)(te.Z,{children:[(0,t.jsx)(p.Z,{color:"error",variant:"contained",onClick:function(){return o()},children:"Cancelar"}),(0,t.jsx)(ae.Z,{color:"primary",variant:"contained",loading:h,onClick:function(){var e=s.map((function(e){return e.id}));x(e)},children:"Confirmar"})]})]})}var ge=r(6310),je=r(135),be=r(480),ye=r(2175);function Ze(e,n,r,t,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?n(s):Promise.resolve(s).then(t,a)}function we(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Pe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){we(e,n,r[n])}))}return e}var Se=a.forwardRef((function(e,n){return(0,t.jsx)(ne.Z,Pe({direction:"up",ref:n},e))}));function ke(e){var n=(0,G.Ds)().enqueueSnackbar,r=e.open,o=e.onClose,i=e.onSuccess,c=e.onError,s=e.faq,p=function(){o()},h=ge.Ry().shape({question:ge.Z_().required("A pergunta \xe9 um campo obrigat\xf3rio."),answer:ge.Z_().required("A resposta \xe9 um campo obrigat\xf3rio."),rating:ge.Rx().min(1,"O n\xfamero m\xednimo da ordena\xe7\xe3o \xe9 1"),active:ge.O7()}),m=(0,ye.TA)({initialValues:{question:"",answer:"",rating:1,active:!1},validationSchema:h,onSubmit:function(e,n){P(e,n.setSubmitting)}}),x=m.errors,v=m.touched,j=m.isSubmitting,b=m.handleSubmit,y=m.getFieldProps,Z=m.setFieldValue,P=function(){var e,r=(e=g().mark((function e(r,t){var a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,le("".concat(s.id),r);case 3:(a=e.sent).success?(p(),i(),n("Pergunta atualizada com sucesso!",{variant:"success",autoHideDuration:6e3})):(c(),n(a.message,{variant:"error",autoHideDuration:6e3})),t(!1);case 6:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){Ze(o,t,a,i,c,"next",e)}function c(e){Ze(o,t,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return r.apply(this,arguments)}}();return a.useEffect((function(){var e;null!=s&&void 0!=s&&(Z("question",(e=s).question),Z("answer",e.answer),Z("rating",e.rating),Z("active",1==e.active))}),[s]),(0,t.jsxs)(J.Z,{fullScreen:!0,open:r,onClose:p,TransitionComponent:Se,children:[(0,t.jsx)(K.Z,{sx:{position:"relative"},children:(0,t.jsx)(u.Z,{sx:{py:1},maxWidth:"xl",children:(0,t.jsxs)(Y.Z,{children:[(0,t.jsx)(N.Z,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:(0,t.jsx)(ee.Z,{})}),(0,t.jsxs)(f.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Editando Pergunta: ",null===s||void 0===s?void 0:s.id]}),(0,t.jsx)(ae.Z,{variant:"outlined",color:"inherit",onClick:function(){return b()},loading:j,children:"Salvar"})]})})}),(0,t.jsxs)(u.Z,{maxWidth:"xl",sx:{py:3},children:[j&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(w.Z,{sx:{my:2},children:(0,t.jsx)(d.Z,{color:"secondary"})})}),(0,t.jsx)(ye.Hy,{value:m,children:(0,t.jsx)(ye.l0,{onSubmit:b,children:(0,t.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(l.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,t.jsx)(je.Z,Pe({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"question",label:"Pergunta"},y("question"),{error:Boolean(v.question&&x.question),helperText:v.question&&x.question}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,t.jsx)(je.Z,Pe({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"answer",label:"Resposta",multiline:!0,rows:4},y("answer"),{error:Boolean(v.answer&&x.answer),helperText:v.answer&&x.answer}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,t.jsx)(je.Z,Pe({fullWidth:!0,variant:"outlined",type:"number",autoComplete:"number",label:"Ordem"},y("rating"),{error:Boolean(v.rating&&x.rating),helperText:v.rating&&x.rating}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,t.jsx)(be.Z,{control:(0,t.jsx)(W.Z,Pe({checked:m.values.active},y("active"))),label:"Pergunta Ativa?"})})]})})})]})]})}function Oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Ce(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function qe(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Oe(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ee=function(e){var n={active:{text:"Ativo",color:"success"},inactive:{text:"Inativo",color:"warning"}}[e],r=n.text,a=n.color;return(0,t.jsx)(z.Z,{color:a,children:r})},Ae=function(e){var n=e.faqs,r=e.reloadFAQs,o=(0,G.Ds)().enqueueSnackbar,i=(0,a.useState)([]),c=i[0],s=i[1],u=(0,a.useState)(!1),l=u[0],d=u[1],p=(0,a.useState)(!1),h=p[0],m=p[1],x=(0,a.useState)(),v=x[0],g=x[1],b=c.length>0,y=(0,a.useState)(0),z=y[0],L=y[1],M=(0,a.useState)(5),Q=M[0],U=M[1],V=(0,a.useState)({status:null}),X=V[0],J=V[1],K=function(e,n){return e.filter((function(e){var r=!0;return n.status&&1==e.active!=={active:{value:!0},inactive:{value:!1}}[n.status].value&&(r=!1),r}))}(n,X),Y=function(e,n,r){return e.slice(n*r,n*r+r)}(K,z,Q),ee=c.length>0&&c.length<n.length,ne=c.length===n.length,re=(0,Z.Z)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.Z,{children:[b&&(0,t.jsx)(w.Z,{flex:1,p:2,children:(0,t.jsx)($,{goToDelete:function(){1==c.length?m(!0):o("S\xf3 \xe9 poss\xedvel deletar 1 pergunta selecionada por vez, selecione apenas 1 e tente novamente...",{variant:"warning",autoHideDuration:1e4})},goToEdit:function(){1==c.length?(g(n.filter((function(e){return e.id==c[0]}))[0]),d(!0)):o("S\xf3 \xe9 poss\xedvel editar 1 pergunta selecionada por vez, selecione apenas 1 e tente novamente...",{variant:"warning",autoHideDuration:1e4})}})}),!b&&(0,t.jsx)(P.Z,{action:(0,t.jsx)(w.Z,{width:150,children:(0,t.jsxs)(S.Z,{fullWidth:!0,variant:"outlined",children:[(0,t.jsx)(k.Z,{children:"Status"}),(0,t.jsx)(O.Z,{value:X.status||"all",onChange:function(e){var n=null;"all"!==e.target.value&&(n=e.target.value),J((function(e){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ce(e,n,r[n])}))}return e}({},e,{status:n})}))},label:"Status",autoWidth:!0,children:[{id:"all",name:"Todos"},{id:"active",name:"Ativo"},{id:"inactive",name:"Inativo"}].map((function(e){return(0,t.jsx)(C.Z,{value:e.id,children:e.name},e.id)}))})]})}),title:"Lista de Perguntas Frequentes"}),(0,t.jsx)(q.Z,{}),(0,t.jsx)(E.Z,{children:(0,t.jsxs)(A.Z,{children:[(0,t.jsx)(T.Z,{children:(0,t.jsxs)(D.Z,{children:[(0,t.jsx)(F.Z,{padding:"checkbox",children:(0,t.jsx)(W.Z,{color:"primary",checked:ne,indeterminate:ee,onChange:function(e){s(e.target.checked?n.map((function(e){return e.id})):[])}})}),(0,t.jsx)(F.Z,{children:"ID"}),(0,t.jsx)(F.Z,{children:"Pergunta"}),(0,t.jsx)(F.Z,{align:"center",children:"Status"}),(0,t.jsx)(F.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(I.Z,{children:Y.map((function(e){var n=c.includes(e.id);return(0,t.jsxs)(D.Z,{hover:!0,selected:n,children:[(0,t.jsx)(F.Z,{padding:"checkbox",children:(0,t.jsx)(W.Z,{color:"primary",checked:n,onChange:function(n){return r=e.id,void(c.includes(r)?s((function(e){return e.filter((function(e){return e!==r}))})):s((function(e){return qe(e).concat([r])})));var r},value:n})}),(0,t.jsx)(F.Z,{children:(0,t.jsx)(f.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.id})}),(0,t.jsx)(F.Z,{children:(0,t.jsx)(f.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.question})}),(0,t.jsx)(F.Z,{align:"center",children:(0,t.jsx)(f.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:Ee(1==e.active?"active":"inactive")})}),(0,t.jsxs)(F.Z,{align:"right",children:[(0,t.jsx)(R.Z,{title:"Editar Pergunta",arrow:!0,children:(0,t.jsx)(N.Z,{sx:{"&:hover":{background:re.colors.primary.lighter},color:re.palette.primary.main},color:"inherit",size:"small",onClick:function(){g(e),d(!0)},children:(0,t.jsx)(H.Z,{fontSize:"small"})})}),(0,t.jsx)(R.Z,{title:"Deletar Pergunta",arrow:!0,children:(0,t.jsx)(N.Z,{sx:{"&:hover":{background:re.colors.error.lighter},color:re.palette.error.main},color:"inherit",size:"small",onClick:function(){s([e.id]),m(!0)},children:(0,t.jsx)(B.Z,{fontSize:"small"})})})]})]},e.id)}))})]})}),(0,t.jsx)(w.Z,{p:2,children:(0,t.jsx)(_.Z,{component:"div",count:K.length,onPageChange:function(e,n){L(n)},onRowsPerPageChange:function(e){U(parseInt(e.target.value))},page:z,labelDisplayedRows:function(e){var n=e.from,r=e.to,t=e.count;return"".concat(n,"\u2013").concat(r," de ").concat(-1!==t?t:"more than ".concat(r))},labelRowsPerPage:"Perguntas por p\xe1gina",rowsPerPage:Q,rowsPerPageOptions:[5,10,25,30]})})]}),(0,t.jsx)(ke,{open:l,onClose:function(){d(!1)},onSuccess:function(){r()},onError:function(){},faq:v}),(0,t.jsx)(ve,{open:h,handleClose:function(){m(!1)},handleSuccess:function(){m(!1),L(0),s([]),J({status:null}),r()},faqsToDelete:n.filter((function(e){return c.includes(e.id)})),handleStartSubmit:function(){}})]})};Ae.propTypes={faqs:y().array.isRequired},Ae.defaultProps={faqs:[]};var Te=Ae;function De(e,n,r,t,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?n(s):Promise.resolve(s).then(t,a)}var Fe=function(){var e=(0,a.useState)([]),n=e[0],r=e[1],o=function(){var e,n=(e=g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:(n=e.sent).success&&r(n.data);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){De(o,t,a,i,c,"next",e)}function c(e){De(o,t,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){o()}),[]),(0,t.jsx)(j.Z,{children:(0,t.jsx)(Te,{reloadFAQs:function(){return o()},faqs:n})})};function We(e,n,r,t,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void r(u)}c.done?n(s):Promise.resolve(s).then(t,a)}function Ie(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Re(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ie(e,n,r[n])}))}return e}var Ne=a.forwardRef((function(e,n){return(0,t.jsx)(ne.Z,Re({direction:"up",ref:n},e))}));function _e(e){var n=(0,G.Ds)().enqueueSnackbar,r=e.open,a=e.onClose,o=e.onSuccess,i=e.onError,c=e.onInitSubmit,s=function(){a()},p=ge.Ry().shape({question:ge.Z_().required("A pergunta \xe9 um campo obrigat\xf3rio."),answer:ge.Z_().required("A resposta \xe9 um campo obrigat\xf3rio."),rating:ge.Rx().min(1,"O n\xfamero m\xednimo da ordena\xe7\xe3o \xe9 1"),active:ge.O7()}),h=(0,ye.TA)({initialValues:{question:"",answer:"",rating:1,active:!1},validationSchema:p,onSubmit:function(e,n){y(e,n.setSubmitting)}}),m=h.errors,x=h.touched,v=h.isSubmitting,j=h.handleSubmit,b=h.getFieldProps,y=function(){var e,r=(e=g().mark((function e(r,t){var a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),c(),e.next=4,ue(r);case 4:(a=e.sent).success?(n("Pergunta frequente adicionada com sucesso!",{variant:"success",autoHideDuration:8e3}),o(),s(),h.resetForm()):(n(a.message,{variant:"error",autoHideDuration:1e4}),i()),t(!1);case 7:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var o=e.apply(n,r);function i(e){We(o,t,a,i,c,"next",e)}function c(e){We(o,t,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return r.apply(this,arguments)}}();return(0,t.jsxs)(J.Z,{fullScreen:!0,open:r,onClose:s,TransitionComponent:Ne,children:[(0,t.jsx)(K.Z,{sx:{position:"relative"},children:(0,t.jsx)(u.Z,{sx:{py:1},maxWidth:"xl",children:(0,t.jsxs)(Y.Z,{children:[(0,t.jsx)(N.Z,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:(0,t.jsx)(ee.Z,{})}),(0,t.jsx)(f.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Criando Nova Pergunta Frequente"}),(0,t.jsx)(ae.Z,{loading:v,autoFocus:!0,variant:"outlined",color:"inherit",onClick:function(){return j()},children:"Criar"})]})})}),(0,t.jsxs)(u.Z,{maxWidth:"xl",sx:{py:3},children:[v&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(w.Z,{sx:{my:2},children:(0,t.jsx)(d.Z,{color:"secondary"})})}),(0,t.jsx)(ye.Hy,{value:h,children:(0,t.jsx)(ye.l0,{onSubmit:j,children:(0,t.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(l.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,t.jsx)(je.Z,Re({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"question",label:"Pergunta"},b("question"),{error:Boolean(x.question&&m.question),helperText:x.question&&m.question}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:12,lg:12,children:(0,t.jsx)(je.Z,Re({fullWidth:!0,variant:"outlined",type:"text",autoComplete:"answer",label:"Resposta",multiline:!0,rows:4},b("answer"),{error:Boolean(x.answer&&m.answer),helperText:x.answer&&m.answer}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,t.jsx)(je.Z,Re({fullWidth:!0,variant:"outlined",type:"number",autoComplete:"number",label:"Ordem"},b("rating"),{error:Boolean(x.rating&&m.rating),helperText:x.rating&&m.rating}))}),(0,t.jsx)(l.ZP,{item:!0,sm:12,md:2,lg:2,children:(0,t.jsx)(be.Z,{control:(0,t.jsx)(W.Z,Re({},b("active"))),label:"Pergunta Ativa?"})})]})})})]})]})}var ze=function(){var e=(0,a.useState)(!1),n=e[0],r=e[1],o=(0,a.useState)(!1),c=o[0],f=o[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i(),{children:(0,t.jsx)("title",{children:"Perguntas Frequentes - Painel - Familia TC"})}),(0,t.jsx)(s.Z,{children:(0,t.jsx)(x,{createNewFAQ:function(){r(!0)}})}),(0,t.jsx)(u.Z,{maxWidth:"lg",children:(0,t.jsx)(l.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:c?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(d.Z,{})})}):(0,t.jsx)(l.ZP,{item:!0,xs:12,children:(0,t.jsx)(Fe,{})})})}),(0,t.jsx)(_e,{open:n,onClose:function(){r(!1)},onInitSubmit:function(){f(!0)},onSuccess:function(){f(!1)},onError:function(){f(!1)}})]})};ze.getLayout=function(e){return(0,t.jsx)(c.Z,{privated:!0,redirect:"/panel/login",children:e})};var He=ze},100:function(e,n,r){"use strict";var t=r(5893),a=r(5697),o=r.n(a);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=(0,r(948).ZP)("span")((function(e){var n=e.theme;return"\n      background-color: ".concat(n.colors.alpha.black[5],";\n      padding: ").concat(n.spacing(.5,1),";\n      font-size: ").concat(n.typography.pxToRem(13),";\n      border-radius: ").concat(n.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(n.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(n.colors.primary.lighter,";\n          color: ").concat(n.palette.primary.main,"\n        }\n\n        &-black {\n          background-color: ").concat(n.colors.alpha.black[100],";\n          color: ").concat(n.colors.alpha.white[100],";\n        }\n        \n        &-secondary {\n          background-color: ").concat(n.colors.secondary.lighter,";\n          color: ").concat(n.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(n.colors.success.lighter,";\n          color: ").concat(n.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(n.colors.warning.lighter,";\n          color: ").concat(n.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(n.colors.error.lighter,";\n          color: ").concat(n.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(n.colors.info.lighter,";\n          color: ").concat(n.palette.info.main,"\n        }\n      }\n")})),u=function(e){e.className;var n=e.color,r=void 0===n?"secondary":n,a=e.children,o=c(e,["className","color","children"]);return(0,t.jsx)(s,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}({className:"MuiLabel-"+r},o,{children:a}))};u.propTypes={children:o().node,className:o().string,color:o().oneOf(["primary","black","secondary","error","warning","success","info"])},n.Z=u},8273:function(e,n,r){"use strict";var t=r(5893),a=r(5697),o=r.n(a),i=r(948),c=r(7357),s=r(9520),u=(0,i.ZP)(c.Z)((function(e){var n=e.theme;return"\n        padding: ".concat(n.spacing(4),";\n")})),l=function(e){var n=e.children;return(0,t.jsx)(u,{className:"MuiPageTitle-wrapper",children:(0,t.jsx)(s.Z,{maxWidth:"lg",children:n})})};l.propTypes={children:o().node.isRequired},n.Z=l},8467:function(e,n,r){"use strict";r.d(n,{h:function(){return i},i:function(){return c}});var t=r(6154),a=r(3780),o="https://api.familiatc.com.br",i=t.Z.create({baseURL:o,headers:{"Content-Type":"application/json",Accept:"application/json"}}),c=t.Z.create({baseURL:o,headers:{Authorization:"Bearer ".concat((0,a.LP)()),"Content-Type":"application/json",Accept:"/"}})}},function(e){e.O(0,[155,39,999,121,841,58,347,853,498,154,317,830,915,834,250,774,888,179],(function(){return n=2940,e(e.s=n);var n}));var n=e.O();_N_E=n}]);